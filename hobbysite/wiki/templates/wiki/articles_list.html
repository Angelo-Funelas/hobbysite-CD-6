{% extends "base.html" %}

{% block title %}Articles List{% endblock %}
{% block content %}
    <h1>Online Wiki</h1>

    <a href="{% url 'wiki:article_create' %}">Create New Article</a>

    {% if user_articles %}
    <h2>Your Articles</h2>
    <ul>
        {% for article in user_articles %}
            <li>
                <a href="{{ article.get_absolute_url }}">{{ article.title }}</a>
            </li>
        {% endfor %}
    </ul>
    {% endif %}

    <h2>All Articles</h2>
    {% if category_articles %}
        {% for category, articles in category_articles.items %}
            <h3>{{ category.name }}</h3>
            {% if articles %}
                <ul>
                {% for article in articles %}
                    <li><a href="{{ article.get_absolute_url }}">{{ article.title }}</a></li>
                {% endfor %}
                </ul>
            {% else %}
                <p>No articles in this category.</p>
            {% endif %}
        {% endfor %}
    {% else %}
        <p>No categories or articles available.</p>
    {% endif %}
    
{% endblock %}