{% extends "base.html" %}
{% load static %}
{% block title %}Merchandise Store - {% if product %}Edit {{product.name}}{% else %}New Listing{% endif %}{% endblock %}
{% block head %}
    <link rel="shortcut icon" href="{% static 'merchstore/icons/cart.svg' %}" type="image/svg+xml">
    <link rel="stylesheet" href="{% static 'merchstore/styles.css' %}">
{% endblock %}
{% block nav %}
    <a href="{% url 'merchstore:index' %}"><h2>Merchandise Store</h2></a>
    <div>
        <a href="{% url 'merchstore:transactions' %}"><button><img src="{% static 'merchstore/icons/package.svg' %}"></button></a>
        <a href="{% url 'merchstore:cart' %}"><button><img src="{% static 'merchstore/icons/cart.svg' %}"></button></a>
    </div>
{% endblock %}
{% block content %}
<article class="product-view">
    <div><a href="{% url 'merchstore:index' %}" class="nav-link">< Home</a></div>
    <img src="" class="">
    <div>
        <form class="item-form" action="
            {% if product %}
                {% url 'merchstore:edit' product.id %}
            {% else %}
                {% url 'merchstore:add' %}
            {% endif %}
        " method="post">
            {% csrf_token %}
            <input name="name" placeholder="Product Name" value="{{product.name}}">
            <input type="number" name="price" placeholder="Price" value="{{product.price}}" step=".01" min="0">
            <input type="number" name="stock" placeholder="Stock" value="{{product.stock}}" step="1" min="0">
            <select name="type">
                {% for type in product_types %}
                    <option value="{{type.id}}" {% if type.id == product.product_type.id %}selected{% endif %}>{{type.name}}</option>
                {% endfor %}
            </select>
            <p>Description:</p>
            <textarea name="description" placeholder="Product Description">{{product.description}}</textarea>
            <div class="purchase-buttons">
                <button>{% if product %}Save Listing{% else %}List Item{% endif %}</button>
            </div>
        </form>
    </div>
</article>
{% endblock %}
{% block scripts %}
<script src="{% static 'merchstore/scripts/priceFormatter.js' %}"></script>
{% endblock  %}